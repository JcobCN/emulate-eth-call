import { ethers,utils } from "ethers";
import cake from "./cakeswap.js"
import coin from "./coin.js"
import irc20Abi from "./erc20Abi.js"
import log from "loglevel"
import {keccak256} from "@ethersproject/solidity"

log.setLevel('debug')

const BSC_RPC = 'https://bsc.mytokenpocket.vip'
const ETH_RPC = 'https://eth-mainnet.gateway.pokt.network/v1/5f3453978e354ab992c4da79'
const provider = new ethers.providers.JsonRpcProvider(ETH_RPC)



const main = async ()=>{

    const lockContract = new ethers.Contract(
        "0x274eD5e05248Beed3baA7F2bfBeeeA59811B028f", // Your locked Contract. Generated by you first depositing.
        [
            'function getAmountsOut(uint amountIn, address[] memory path) public view returns (uint[] memory amounts)',
            'function transferERC20(address token, address to, uint256 amount)'
        ],
        provider
    )

    const tx = await lockContract.callStatic.transferERC20(
        '0xF03387d8d0FF326ab586A58E0ab4121d106147DF', // ubAAMPL Contract.
        '0xfff',
        utils.parseEther('22.58507519467221419'), // amount.
        {from:"0xfff"}
    )

    log.debug("交易结果：", tx)
}
main()